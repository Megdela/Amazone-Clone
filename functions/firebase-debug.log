[debug] [2025-03-08T09:56:22.027Z] ----------------------------------------------------------------------
[debug] [2025-03-08T09:56:22.032Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\yoga\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start --only functions
[debug] [2025-03-08T09:56:22.033Z] CLI Version:   13.33.0
[debug] [2025-03-08T09:56:22.033Z] Platform:      win32
[debug] [2025-03-08T09:56:22.034Z] Node Version:  v20.18.0
[debug] [2025-03-08T09:56:22.034Z] Time:          Sat Mar 08 2025 12:56:22 GMT+0300 (Moscow Standard Time)
[debug] [2025-03-08T09:56:22.035Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-03-08T09:56:22.550Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-03-08T09:56:22.551Z] > authorizing via signed-in user (megdela21@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-03-08T09:56:22.570Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-08T09:56:22.571Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-03-08T09:56:22.581Z] [hub] writing locator at C:\Users\yoga\AppData\Local\Temp\hub-clone-a42db.json
[debug] [2025-03-08T09:56:22.630Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-08T09:56:22.631Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-08T09:56:22.632Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-08T09:56:22.632Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-03-08T09:56:22.644Z] defaultcredentials: writing to file C:\Users\yoga\AppData\Roaming\firebase\megdela21_gmail_com_application_default_credentials.json
[debug] [2025-03-08T09:56:22.657Z] Setting GAC to C:\Users\yoga\AppData\Roaming\firebase\megdela21_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\yoga\\AppData\\Roaming\\firebase\\megdela21_gmail_com_application_default_credentials.json"}}
[debug] [2025-03-08T09:56:22.661Z] Checked if tokens are valid: true, expires at: 1741429590630
[debug] [2025-03-08T09:56:22.662Z] Checked if tokens are valid: true, expires at: 1741429590630
[debug] [2025-03-08T09:56:22.666Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-a42db/adminSdkConfig [none]
[debug] [2025-03-08T09:56:23.548Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-a42db/adminSdkConfig 200
[debug] [2025-03-08T09:56:23.549Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-a42db/adminSdkConfig {"projectId":"clone-a42db","storageBucket":"clone-a42db.firebasestorage.app"}
[info] i  functions: Watching "C:\Users\yoga\Documents\Projects\amazone-clone-\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\" for Cloud Functions..."}}
[debug] [2025-03-08T09:56:23.739Z] Validating nodejs source
[debug] [2025-03-08T09:56:28.419Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T09:56:28.420Z] Building nodejs source
[debug] [2025-03-08T09:56:28.422Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T09:56:28.443Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T09:56:28.498Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8760

[error] ReferenceError: dotenv is not defined
    at Object.<anonymous> (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:5:1)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T09:56:30.410Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: dotenv is not defined
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-03-08T09:56:34.554Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-03-08T10:00:36.761Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:00:37.773Z] Validating nodejs source
[debug] [2025-03-08T10:00:41.380Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:00:41.380Z] Building nodejs source
[debug] [2025-03-08T10:00:41.380Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:00:41.384Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:00:41.394Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:00:41.406Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8443

[error] ReferenceError: dotenv is not defined
    at Object.<anonymous> (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:7:1)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:00:42.386Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: dotenv is not defined
[debug] [2025-03-08T10:00:42.407Z] Validating nodejs source
[debug] [2025-03-08T10:00:45.780Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:00:45.781Z] Building nodejs source
[debug] [2025-03-08T10:00:45.782Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:00:45.791Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:00:45.828Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8649

[error] ReferenceError: dotenv is not defined
    at Object.<anonymous> (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:7:1)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:00:47.109Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: dotenv is not defined
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-03-08T10:01:15.257Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:01:16.264Z] Validating nodejs source
[debug] [2025-03-08T10:01:20.734Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:01:20.735Z] Building nodejs source
[debug] [2025-03-08T10:01:20.735Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:01:20.740Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:01:20.752Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8886

[debug] [2025-03-08T10:01:22.047Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/clone-a42db/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/clone-a42db/us-central1/api)."}}
[debug] [2025-03-08T10:01:43.795Z] [work-queue] {"queuedWork":["/clone-a42db/us-central1/api-2025-03-08T10:01:43.795Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:01:43.796Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a42db/us-central1/api-2025-03-08T10:01:43.795Z"],"workRunningCount":1}
[debug] [2025-03-08T10:01:43.797Z] Accepted request GET /clone-a42db/us-central1/api --> us-central1-api
[debug] [2025-03-08T10:01:43.815Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-08T10:01:43.819Z] [functions] Got req.url=/clone-a42db/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a42db/us-central1/api, mapping to path=/"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:01:43.896Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-03-08T10:01:43.902Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-03-08T10:01:48.022Z] [runtime-status] [22272] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:01:48.025Z] [runtime-status] [22272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:01:48.026Z] [runtime-status] [22272] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-03-08T10:01:48.028Z] [runtime-status] [22272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:01:48.845Z] [runtime-status] [22272] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-03-08T10:01:48.846Z] [runtime-status] [22272] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-03-08T10:01:48.848Z] [runtime-status] [22272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:01:48.863Z] [runtime-status] [22272] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:01:48.870Z] [runtime-status] [22272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:01:48.871Z] [runtime-status] [22272] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-03-08T10:01:49.248Z] [runtime-status] [22272] Functions runtime initialized. {"cwd":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions","node_version":"20.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\",\"node_version\":\"20.18.0\"}"}}
[debug] [2025-03-08T10:01:49.249Z] [runtime-status] [22272] Listening to port: \\?\pipe\fire_emu_25adb1152791ef1b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22272] Listening to port: \\\\?\\pipe\\fire_emu_25adb1152791ef1b"}}
[debug] [2025-03-08T10:01:49.259Z] [worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: IDLE"}}
[debug] [2025-03-08T10:01:49.259Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-03-08T10:01:49.261Z] [worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: BUSY"}}
[debug] [2025-03-08T10:01:49.274Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 13.8918ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 13.8918ms"}}
[debug] [2025-03-08T10:01:49.275Z] [worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: IDLE"}}
[debug] [2025-03-08T10:01:49.276Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-08T10:01:49.276Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-08T10:01:49.276Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:01:49.540Z] [work-queue] {"queuedWork":["/clone-a42db/us-central1/api-2025-03-08T10:01:49.540Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:01:49.540Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a42db/us-central1/api-2025-03-08T10:01:49.540Z"],"workRunningCount":1}
[debug] [2025-03-08T10:01:49.540Z] Accepted request GET /clone-a42db/us-central1/api --> us-central1-api
[debug] [2025-03-08T10:01:49.546Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-08T10:01:49.546Z] [functions] Got req.url=/clone-a42db/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a42db/us-central1/api, mapping to path=/"}}
[debug] [2025-03-08T10:01:49.547Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-03-08T10:01:49.548Z] [worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: BUSY"}}
[debug] [2025-03-08T10:01:49.554Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.984ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.984ms"}}
[debug] [2025-03-08T10:01:49.556Z] [worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: IDLE"}}
[debug] [2025-03-08T10:01:49.556Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-08T10:01:49.556Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-08T10:01:49.557Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:01:54.631Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2025-03-08T10:02:29.415Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:02:30.421Z] Validating nodejs source
[debug] [2025-03-08T10:02:34.560Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:02:34.561Z] Building nodejs source
[debug] [2025-03-08T10:02:34.561Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:02:34.575Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:02:34.604Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8598

[debug] [2025-03-08T10:02:36.221Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:02:37.080Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:02:38.083Z] Validating nodejs source
[debug] [2025-03-08T10:02:41.991Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:02:41.992Z] Building nodejs source
[debug] [2025-03-08T10:02:41.993Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:02:42.002Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:02:42.038Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:02:42.127Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-03-08T10:02:42.128Z] [worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: FINISHING"}}
[debug] [2025-03-08T10:02:42.201Z] [worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: exited"}}
[debug] [2025-03-08T10:02:42.202Z] [worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-872b0ac5-f73d-4c47-ba31-494160fd87f8]: FINISHED"}}
[info] Serving at port 8220

[debug] [2025-03-08T10:02:44.008Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:04:39.312Z] [work-queue] {"queuedWork":["/clone-a42db/us-central1/api-2025-03-08T10:04:39.312Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:04:39.313Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a42db/us-central1/api-2025-03-08T10:04:39.312Z"],"workRunningCount":1}
[debug] [2025-03-08T10:04:39.313Z] Accepted request GET /clone-a42db/us-central1/api --> us-central1-api
[debug] [2025-03-08T10:04:39.326Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-08T10:04:39.328Z] [functions] Got req.url=/clone-a42db/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a42db/us-central1/api, mapping to path=/"}}
[debug] [2025-03-08T10:04:39.328Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:04:39.363Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-03-08T10:04:39.365Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-03-08T10:04:46.941Z] [runtime-status] [12700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:04:46.951Z] [runtime-status] [12700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:04:46.953Z] [runtime-status] [12700] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-03-08T10:04:46.956Z] [runtime-status] [12700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:04:48.143Z] [runtime-status] [12700] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-03-08T10:04:48.144Z] [runtime-status] [12700] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-03-08T10:04:48.149Z] [runtime-status] [12700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:04:48.165Z] [runtime-status] [12700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:04:48.174Z] [runtime-status] [12700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:04:48.176Z] [runtime-status] [12700] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-03-08T10:04:48.855Z] [runtime-status] [12700] Functions runtime initialized. {"cwd":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions","node_version":"20.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\",\"node_version\":\"20.18.0\"}"}}
[debug] [2025-03-08T10:04:48.857Z] [runtime-status] [12700] Listening to port: \\?\pipe\fire_emu_c092470af1a0e2f2 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12700] Listening to port: \\\\?\\pipe\\fire_emu_c092470af1a0e2f2"}}
[debug] [2025-03-08T10:04:48.949Z] [worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: IDLE"}}
[debug] [2025-03-08T10:04:48.950Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-03-08T10:04:48.951Z] [worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: BUSY"}}
[debug] [2025-03-08T10:04:48.974Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 23.6138ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 23.6138ms"}}
[debug] [2025-03-08T10:04:48.976Z] [worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: IDLE"}}
[debug] [2025-03-08T10:04:48.976Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-08T10:04:48.977Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-08T10:04:48.977Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:05:18.541Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:05:19.560Z] Validating nodejs source
[debug] [2025-03-08T10:05:22.986Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:05:22.987Z] Building nodejs source
[debug] [2025-03-08T10:05:22.988Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:05:22.991Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:05:23.004Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:05:23.016Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8527

[debug] [2025-03-08T10:05:24.030Z] Validating nodejs source
[debug] [2025-03-08T10:05:27.123Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:05:27.124Z] Building nodejs source
[debug] [2025-03-08T10:05:27.125Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] ReferenceError: a is not defined
    at Object.<anonymous> (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:18:1)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:05:27.136Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: a is not defined
[debug] [2025-03-08T10:05:27.143Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:05:27.174Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:05:27.200Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8366

[debug] [2025-03-08T10:05:28.215Z] Validating nodejs source
[debug] [2025-03-08T10:05:31.724Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:05:31.724Z] Building nodejs source
[debug] [2025-03-08T10:05:31.724Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:05:31.730Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:05:31.753Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:05:31.790Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8982

[debug] [2025-03-08T10:05:32.476Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:05:33.309Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:05:33.486Z] Validating nodejs source
[debug] [2025-03-08T10:05:36.956Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:05:36.957Z] Building nodejs source
[debug] [2025-03-08T10:05:36.957Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:05:36.973Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:05:37.008Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:05:37.056Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:05:37.062Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-03-08T10:05:37.062Z] [worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: FINISHING"}}
[debug] [2025-03-08T10:05:37.105Z] [worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: exited"}}
[debug] [2025-03-08T10:05:37.105Z] [worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac9ab943-8fe0-4a17-ba83-a285098c96e0]: FINISHED"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8227

[debug] [2025-03-08T10:05:38.064Z] Validating nodejs source
[debug] [2025-03-08T10:05:40.906Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:05:40.906Z] Building nodejs source
[debug] [2025-03-08T10:05:40.907Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:05:40.917Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:05:40.925Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:05:40.954Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:05:41.356Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8392

[debug] [2025-03-08T10:05:42.366Z] Validating nodejs source
[debug] [2025-03-08T10:05:46.693Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:05:46.694Z] Building nodejs source
[debug] [2025-03-08T10:05:46.694Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:05:46.703Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:05:46.717Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:05:46.727Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8486

[debug] [2025-03-08T10:05:48.271Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:05:48.617Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:05:49.624Z] Validating nodejs source
[debug] [2025-03-08T10:05:53.273Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:05:53.273Z] Building nodejs source
[debug] [2025-03-08T10:05:53.274Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:05:53.282Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:05:53.307Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:05:53.339Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8026

[debug] [2025-03-08T10:05:54.345Z] Validating nodejs source
[debug] [2025-03-08T10:05:57.798Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:05:57.799Z] Building nodejs source
[debug] [2025-03-08T10:05:57.799Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:05:57.802Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:05:57.813Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[error] ReferenceError: async is not defined
    at Object.<anonymous> (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:19:5)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:05:57.823Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: async is not defined
[info] Serving at port 8390

[debug] [2025-03-08T10:05:58.695Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] ReferenceError: async is not defined
    at Object.<anonymous> (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:19:5)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:05:59.223Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: async is not defined
[debug] [2025-03-08T10:05:59.711Z] Validating nodejs source
[debug] [2025-03-08T10:06:03.949Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:06:03.949Z] Building nodejs source
[debug] [2025-03-08T10:06:03.950Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:06:03.953Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:06:03.965Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-03-08T10:06:03.984Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-03-08T10:06:04.510Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8595

[error] ReferenceError: async is not defined
    at Object.<anonymous> (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:19:5)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:06:05.410Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: async is not defined
[debug] [2025-03-08T10:06:05.523Z] Validating nodejs source
[debug] [2025-03-08T10:06:09.150Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:06:09.150Z] Building nodejs source
[debug] [2025-03-08T10:06:09.150Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:06:09.154Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:06:09.166Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:06:09.178Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8600

[debug] [2025-03-08T10:06:10.181Z] Validating nodejs source
[debug] [2025-03-08T10:06:13.444Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:06:13.444Z] Building nodejs source
[debug] [2025-03-08T10:06:13.445Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:06:13.449Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:06:13.464Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[error] ReferenceError: async is not defined
    at Object.<anonymous> (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:19:5)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:06:13.478Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: async is not defined
[debug] [2025-03-08T10:06:13.484Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:06:13.596Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8597

[debug] [2025-03-08T10:06:14.605Z] Validating nodejs source
[debug] [2025-03-08T10:06:19.673Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:06:19.674Z] Building nodejs source
[debug] [2025-03-08T10:06:19.674Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:06:19.682Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:06:19.711Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:06:19.736Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8274

[debug] [2025-03-08T10:06:21.968Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:06:26.646Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:06:27.654Z] Validating nodejs source
[debug] [2025-03-08T10:06:31.467Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:06:31.468Z] Building nodejs source
[debug] [2025-03-08T10:06:31.468Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:06:31.476Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:06:31.510Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:06:31.527Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8167

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:20
    const total
          ^^^^^

SyntaxError: Missing initializer in const declaration
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:06:32.273Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[debug] [2025-03-08T10:06:32.536Z] Validating nodejs source
[debug] [2025-03-08T10:06:36.320Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:06:36.320Z] Building nodejs source
[debug] [2025-03-08T10:06:36.321Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:06:36.328Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:06:36.359Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:06:36.377Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8530

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:21
})
^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:06:36.963Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2025-03-08T10:06:37.386Z] Validating nodejs source
[debug] [2025-03-08T10:06:41.101Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:06:41.101Z] Building nodejs source
[debug] [2025-03-08T10:06:41.102Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:06:41.105Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:06:41.119Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:06:41.132Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8944

[debug] [2025-03-08T10:06:42.139Z] Validating nodejs source
[debug] [2025-03-08T10:06:45.375Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:06:45.376Z] Building nodejs source
[debug] [2025-03-08T10:06:45.376Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:06:45.381Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:06:45.389Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:06:45.409Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:06:45.423Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8908

[debug] [2025-03-08T10:06:46.070Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:06:47.077Z] Validating nodejs source
[debug] [2025-03-08T10:06:50.496Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:06:50.496Z] Building nodejs source
[debug] [2025-03-08T10:06:50.497Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:06:50.500Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:06:50.514Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:06:50.525Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:06:50.535Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8248

[debug] [2025-03-08T10:06:51.417Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:06:51.977Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:06:52.426Z] Validating nodejs source
[debug] [2025-03-08T10:06:55.706Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:06:55.706Z] Building nodejs source
[debug] [2025-03-08T10:06:55.706Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:06:55.716Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:06:55.741Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:06:55.776Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8453

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:22
})
^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:06:56.473Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2025-03-08T10:06:56.592Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:06:57.603Z] Validating nodejs source
[debug] [2025-03-08T10:07:01.141Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:07:01.142Z] Building nodejs source
[debug] [2025-03-08T10:07:01.142Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:07:01.149Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:07:01.177Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:07:01.202Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8518

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:22
})
^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:07:01.844Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2025-03-08T10:07:02.214Z] Validating nodejs source
[debug] [2025-03-08T10:07:05.765Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:07:05.766Z] Building nodejs source
[debug] [2025-03-08T10:07:05.766Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:07:05.769Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:07:05.782Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:07:05.796Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8154

[debug] [2025-03-08T10:07:06.801Z] Validating nodejs source
[debug] [2025-03-08T10:07:09.946Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:07:09.946Z] Building nodejs source
[debug] [2025-03-08T10:07:09.947Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:07:09.951Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:07:09.967Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:07:09.982Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:07:10.002Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8920

[debug] [2025-03-08T10:07:11.008Z] Validating nodejs source
[debug] [2025-03-08T10:07:14.320Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:07:14.321Z] Building nodejs source
[debug] [2025-03-08T10:07:14.322Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:07:14.332Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:07:14.364Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:07:14.379Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:07:14.386Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8643

[debug] [2025-03-08T10:07:15.391Z] Validating nodejs source
[debug] [2025-03-08T10:07:20.625Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:07:20.625Z] Building nodejs source
[debug] [2025-03-08T10:07:20.625Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:07:20.637Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:07:20.648Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:07:20.657Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:07:20.680Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:07:20.863Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8677

[debug] [2025-03-08T10:07:21.881Z] Validating nodejs source
[debug] [2025-03-08T10:07:25.490Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:07:25.491Z] Building nodejs source
[debug] [2025-03-08T10:07:25.491Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:07:25.494Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:07:25.510Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:07:25.520Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8495

[debug] [2025-03-08T10:07:26.826Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:08:06.165Z] [work-queue] {"queuedWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:08:06.164Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:08:06.167Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:08:06.164Z"],"workRunningCount":1}
[debug] [2025-03-08T10:08:06.167Z] Accepted request GET /clone-a42db/us-central1/api/payment/create --> us-central1-api
[debug] [2025-03-08T10:08:06.204Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-08T10:08:06.207Z] [functions] Got req.url=/clone-a42db/us-central1/api/payment/create, mapping to path=/payment/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a42db/us-central1/api/payment/create, mapping to path=/payment/create"}}
[debug] [2025-03-08T10:08:06.211Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:08:06.266Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-03-08T10:08:06.269Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-03-08T10:08:11.207Z] [runtime-status] [3808] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:08:11.211Z] [runtime-status] [3808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:08:11.212Z] [runtime-status] [3808] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-03-08T10:08:11.214Z] [runtime-status] [3808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:08:12.692Z] [runtime-status] [3808] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-03-08T10:08:12.693Z] [runtime-status] [3808] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-03-08T10:08:12.697Z] [runtime-status] [3808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:08:12.726Z] [runtime-status] [3808] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:08:12.740Z] [runtime-status] [3808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:08:12.742Z] [runtime-status] [3808] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-03-08T10:08:13.883Z] [runtime-status] [3808] Functions runtime initialized. {"cwd":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions","node_version":"20.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\",\"node_version\":\"20.18.0\"}"}}
[debug] [2025-03-08T10:08:13.885Z] [runtime-status] [3808] Listening to port: \\?\pipe\fire_emu_3b4ac8640baf85bc {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3808] Listening to port: \\\\?\\pipe\\fire_emu_3b4ac8640baf85bc"}}
[debug] [2025-03-08T10:08:13.926Z] [worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: IDLE"}}
[debug] [2025-03-08T10:08:13.927Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-03-08T10:08:13.930Z] [worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: BUSY"}}
[debug] [2025-03-08T10:08:13.968Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 38.0683ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 38.0683ms"}}
[debug] [2025-03-08T10:08:13.970Z] [worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: IDLE"}}
[debug] [2025-03-08T10:08:13.971Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-08T10:08:13.972Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-08T10:08:13.973Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:08:52.850Z] [work-queue] {"queuedWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:08:52.850Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:08:52.851Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:08:52.850Z"],"workRunningCount":1}
[debug] [2025-03-08T10:08:52.852Z] Accepted request GET /clone-a42db/us-central1/api/payment/create?total --> us-central1-api
[debug] [2025-03-08T10:08:52.859Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-08T10:08:52.860Z] [functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total, mapping to path=/payment/create?total {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total, mapping to path=/payment/create?total"}}
[debug] [2025-03-08T10:08:52.861Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-03-08T10:08:52.863Z] [worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: BUSY"}}
[debug] [2025-03-08T10:08:52.881Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 18.9148ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 18.9148ms"}}
[debug] [2025-03-08T10:08:52.884Z] [worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: IDLE"}}
[debug] [2025-03-08T10:08:52.885Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-08T10:08:52.886Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-08T10:08:52.886Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:09:06.346Z] [work-queue] {"queuedWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:09:06.345Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:09:06.346Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:09:06.345Z"],"workRunningCount":1}
[debug] [2025-03-08T10:09:06.346Z] Accepted request GET /clone-a42db/us-central1/api/payment/create?total=300 --> us-central1-api
[debug] [2025-03-08T10:09:06.354Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-08T10:09:06.355Z] [functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total=300, mapping to path=/payment/create?total=300 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total=300, mapping to path=/payment/create?total=300"}}
[debug] [2025-03-08T10:09:06.355Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-03-08T10:09:06.358Z] [worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: BUSY"}}
[debug] [2025-03-08T10:09:06.369Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 12.2137ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 12.2137ms"}}
[debug] [2025-03-08T10:09:06.375Z] [worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: IDLE"}}
[debug] [2025-03-08T10:09:06.376Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-08T10:09:06.376Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-08T10:09:06.377Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:10:07.151Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:10:08.156Z] Validating nodejs source
[debug] [2025-03-08T10:10:11.211Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:10:11.212Z] Building nodejs source
[debug] [2025-03-08T10:10:11.212Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:10:11.215Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:10:11.223Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:10:11.234Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8537

[debug] [2025-03-08T10:10:12.243Z] Validating nodejs source
[debug] [2025-03-08T10:10:15.749Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:10:15.750Z] Building nodejs source
[debug] [2025-03-08T10:10:15.750Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:10:15.761Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:10:15.775Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:10:15.808Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:10:15.856Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8919

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:24
    }
    ^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:10:16.678Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2025-03-08T10:10:16.867Z] Validating nodejs source
[debug] [2025-03-08T10:10:20.042Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:10:20.042Z] Building nodejs source
[debug] [2025-03-08T10:10:20.042Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:10:20.045Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:10:20.057Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:10:20.068Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:10:20.085Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-03-08T10:10:20.085Z] [worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: FINISHING"}}
[debug] [2025-03-08T10:10:20.128Z] [worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: exited"}}
[debug] [2025-03-08T10:10:20.128Z] [worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-84629e5e-6de8-48cc-b2bd-746a0f9e3f8d]: FINISHED"}}
[debug] [2025-03-08T10:10:20.171Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8552

[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-03-08T10:10:21.181Z] Validating nodejs source
[debug] [2025-03-08T10:10:24.771Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:10:24.771Z] Building nodejs source
[debug] [2025-03-08T10:10:24.771Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:10:24.775Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:10:24.785Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:10:24.795Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:10:24.805Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8713

[debug] [2025-03-08T10:10:25.694Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:10:26.707Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:10:26.750Z] Validating nodejs source
[debug] [2025-03-08T10:10:30.344Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:10:30.344Z] Building nodejs source
[debug] [2025-03-08T10:10:30.345Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:10:30.348Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:10:30.361Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8500

[debug] [2025-03-08T10:10:32.472Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:10:47.519Z] [work-queue] {"queuedWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:10:47.519Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:10:47.520Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:10:47.519Z"],"workRunningCount":1}
[debug] [2025-03-08T10:10:47.521Z] Accepted request POST /clone-a42db/us-central1/api/payment/create?total=300 --> us-central1-api
[debug] [2025-03-08T10:10:47.530Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-08T10:10:47.532Z] [functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total=300, mapping to path=/payment/create?total=300 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total=300, mapping to path=/payment/create?total=300"}}
[debug] [2025-03-08T10:10:47.532Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:10:47.562Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-03-08T10:10:47.563Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-03-08T10:10:53.359Z] [runtime-status] [11776] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:10:53.365Z] [runtime-status] [11776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:10:53.366Z] [runtime-status] [11776] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-03-08T10:10:53.368Z] [runtime-status] [11776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:10:54.784Z] [runtime-status] [11776] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-03-08T10:10:54.786Z] [runtime-status] [11776] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-03-08T10:10:54.789Z] [runtime-status] [11776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:10:54.826Z] [runtime-status] [11776] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:10:54.846Z] [runtime-status] [11776] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:10:54.848Z] [runtime-status] [11776] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-03-08T10:10:55.942Z] [runtime-status] [11776] Functions runtime initialized. {"cwd":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions","node_version":"20.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\",\"node_version\":\"20.18.0\"}"}}
[debug] [2025-03-08T10:10:55.946Z] [runtime-status] [11776] Listening to port: \\?\pipe\fire_emu_0296c881cf19da0d {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11776] Listening to port: \\\\?\\pipe\\fire_emu_0296c881cf19da0d"}}
[debug] [2025-03-08T10:10:55.996Z] [worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: IDLE"}}
[debug] [2025-03-08T10:10:55.998Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-03-08T10:10:56.001Z] [worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: BUSY"}}
[info] >  payment received 300 {"user":"payment received 300","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment received 300"}}
[debug] [2025-03-08T10:10:56.072Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 72.1944ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 72.1944ms"}}
[debug] [2025-03-08T10:10:56.075Z] [worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: IDLE"}}
[debug] [2025-03-08T10:10:56.075Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-08T10:10:56.076Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-08T10:10:56.076Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:12:41.489Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:12:42.493Z] Validating nodejs source
[debug] [2025-03-08T10:12:45.331Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:12:45.331Z] Building nodejs source
[debug] [2025-03-08T10:12:45.331Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:12:45.335Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:12:45.342Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:12:45.352Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8779

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:22
        const payment
              ^^^^^^^

SyntaxError: Missing initializer in const declaration
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:12:45.895Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[debug] [2025-03-08T10:12:46.353Z] Validating nodejs source
[debug] [2025-03-08T10:12:49.488Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:12:49.489Z] Building nodejs source
[debug] [2025-03-08T10:12:49.489Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:12:49.499Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:12:49.529Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:12:49.561Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:12:49.750Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8031

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:22
        const paymentIntent
              ^^^^^^^^^^^^^

SyntaxError: Missing initializer in const declaration
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:12:50.239Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[debug] [2025-03-08T10:12:50.755Z] Validating nodejs source
[debug] [2025-03-08T10:12:54.181Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:12:54.181Z] Building nodejs source
[debug] [2025-03-08T10:12:54.182Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:12:54.189Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:12:54.212Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:12:54.232Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-03-08T10:12:54.399Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8614

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:23
    }
    ^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:12:54.965Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2025-03-08T10:12:55.402Z] Validating nodejs source
[debug] [2025-03-08T10:12:58.868Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:12:58.868Z] Building nodejs source
[debug] [2025-03-08T10:12:58.868Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:12:58.871Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:12:58.885Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:12:58.898Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8308

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:23
    }
    ^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:12:59.555Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2025-03-08T10:12:59.901Z] Validating nodejs source
[debug] [2025-03-08T10:13:03.936Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:13:03.936Z] Building nodejs source
[debug] [2025-03-08T10:13:03.936Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:13:03.939Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:13:03.951Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:13:03.960Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8600

[debug] [2025-03-08T10:13:04.971Z] Validating nodejs source
[debug] [2025-03-08T10:13:08.660Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:13:08.661Z] Building nodejs source
[debug] [2025-03-08T10:13:08.661Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:13:08.669Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:13:08.685Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:13:08.718Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:13:08.749Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8245

[debug] [2025-03-08T10:13:09.766Z] Validating nodejs source
[debug] [2025-03-08T10:13:14.086Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:13:14.086Z] Building nodejs source
[debug] [2025-03-08T10:13:14.087Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:13:14.096Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:13:14.134Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:13:14.159Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:13:14.181Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-03-08T10:13:14.181Z] [worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: FINISHING"}}
[debug] [2025-03-08T10:13:14.265Z] [worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: exited"}}
[debug] [2025-03-08T10:13:14.265Z] [worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c82123d0-8dda-403d-82a4-4c1c52c5c489]: FINISHED"}}
[info] Serving at port 8476

[debug] [2025-03-08T10:13:16.236Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:13:44.306Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:13:45.316Z] Validating nodejs source
[debug] [2025-03-08T10:13:48.100Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:13:48.100Z] Building nodejs source
[debug] [2025-03-08T10:13:48.100Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:13:48.104Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:13:48.121Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:13:48.137Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8230

[debug] [2025-03-08T10:13:49.141Z] Validating nodejs source
[debug] [2025-03-08T10:13:52.705Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:13:52.706Z] Building nodejs source
[debug] [2025-03-08T10:13:52.706Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:13:52.709Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:13:52.714Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:13:52.727Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:13:52.741Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8422

[debug] [2025-03-08T10:13:53.749Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:13:53.749Z] Validating nodejs source
[debug] [2025-03-08T10:13:56.461Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:13:56.461Z] Building nodejs source
[debug] [2025-03-08T10:13:56.461Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:13:56.465Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:13:56.474Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:13:56.484Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:13:56.489Z] Validating nodejs source
[debug] [2025-03-08T10:13:59.655Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:13:59.655Z] Building nodejs source
[debug] [2025-03-08T10:13:59.656Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:13:59.674Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:13:59.702Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8675

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:13:59.770Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:25
        })
        ^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:13:59.790Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[info] Serving at port 8199

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:25
        })
        ^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:14:00.354Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2025-03-08T10:14:00.779Z] Validating nodejs source
[debug] [2025-03-08T10:14:03.773Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:14:03.774Z] Building nodejs source
[debug] [2025-03-08T10:14:03.775Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:14:03.785Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:14:03.825Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:14:03.867Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8565

[debug] [2025-03-08T10:14:04.878Z] Validating nodejs source
[debug] [2025-03-08T10:14:09.509Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:14:09.510Z] Building nodejs source
[debug] [2025-03-08T10:14:09.510Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:14:09.517Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:14:09.557Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:14:09.598Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] Serving at port 8505

[debug] [2025-03-08T10:14:12.087Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:14:18.035Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:14:19.046Z] Validating nodejs source
[debug] [2025-03-08T10:14:22.233Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:14:22.234Z] Building nodejs source
[debug] [2025-03-08T10:14:22.234Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:14:22.246Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:14:22.279Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:14:22.310Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8637

[debug] [2025-03-08T10:14:23.318Z] Validating nodejs source
[debug] [2025-03-08T10:14:26.644Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:14:26.645Z] Building nodejs source
[debug] [2025-03-08T10:14:26.645Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:14:26.647Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:14:26.656Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:14:26.664Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:14:26.672Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8605

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:27
    }
    ^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:14:27.255Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2025-03-08T10:14:27.509Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:14:28.518Z] Validating nodejs source
[debug] [2025-03-08T10:14:31.650Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:14:31.651Z] Building nodejs source
[debug] [2025-03-08T10:14:31.651Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:14:31.655Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:14:31.667Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:14:31.681Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8747

[debug] [2025-03-08T10:14:32.692Z] Validating nodejs source
[debug] [2025-03-08T10:14:36.229Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:14:36.230Z] Building nodejs source
[debug] [2025-03-08T10:14:36.230Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:14:36.240Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:14:36.258Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:14:36.296Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:14:36.330Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8714

[debug] [2025-03-08T10:14:37.338Z] Validating nodejs source
[debug] [2025-03-08T10:14:41.515Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:14:41.516Z] Building nodejs source
[debug] [2025-03-08T10:14:41.517Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:14:41.521Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:14:41.535Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:14:41.546Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8293

[debug] [2025-03-08T10:14:43.445Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:14:46.905Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:14:47.911Z] Validating nodejs source
[debug] [2025-03-08T10:14:51.680Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:14:51.680Z] Building nodejs source
[debug] [2025-03-08T10:14:51.681Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:14:51.688Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:14:51.715Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:14:51.747Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8866

[debug] [2025-03-08T10:14:52.759Z] Validating nodejs source
[debug] [2025-03-08T10:14:55.938Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:14:55.938Z] Building nodejs source
[debug] [2025-03-08T10:14:55.939Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:14:55.946Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:14:55.950Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:14:55.971Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8469

[debug] [2025-03-08T10:14:58.117Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:14:59.211Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:15:00.215Z] Validating nodejs source
[debug] [2025-03-08T10:15:05.719Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:15:05.720Z] Building nodejs source
[debug] [2025-03-08T10:15:05.721Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:15:05.732Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:15:05.765Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8763

[debug] [2025-03-08T10:15:07.068Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:15:07.590Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:15:08.082Z] Validating nodejs source
[debug] [2025-03-08T10:15:11.611Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:15:11.612Z] Building nodejs source
[debug] [2025-03-08T10:15:11.612Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:15:11.616Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:15:11.637Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:15:11.658Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8401

[debug] [2025-03-08T10:15:12.669Z] Validating nodejs source
[debug] [2025-03-08T10:15:16.449Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:15:16.449Z] Building nodejs source
[debug] [2025-03-08T10:15:16.450Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:15:16.458Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:15:16.489Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:15:16.514Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] Serving at port 8915

[debug] [2025-03-08T10:15:19.098Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:15:24.525Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:15:25.528Z] Validating nodejs source
[debug] [2025-03-08T10:15:30.545Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:15:30.545Z] Building nodejs source
[debug] [2025-03-08T10:15:30.545Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:15:30.550Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:15:30.562Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8602

[debug] [2025-03-08T10:15:32.174Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:15:40.026Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:15:41.029Z] Validating nodejs source
[debug] [2025-03-08T10:15:44.813Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:15:44.813Z] Building nodejs source
[debug] [2025-03-08T10:15:44.814Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:15:44.820Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:15:44.850Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:15:44.874Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8170

[debug] [2025-03-08T10:15:45.892Z] Validating nodejs source
[debug] [2025-03-08T10:15:48.543Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:15:48.543Z] Building nodejs source
[debug] [2025-03-08T10:15:48.544Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:15:48.551Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:15:48.560Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:15:48.584Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:15:48.610Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8134

[debug] [2025-03-08T10:15:49.616Z] Validating nodejs source
[debug] [2025-03-08T10:15:53.191Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:15:53.192Z] Building nodejs source
[debug] [2025-03-08T10:15:53.192Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:15:53.197Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:15:53.210Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:15:53.221Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:15:53.226Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:15:53.709Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8047

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:30
        message:"total"
        ^^^^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:15:53.858Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[debug] [2025-03-08T10:15:54.722Z] Validating nodejs source
[debug] [2025-03-08T10:16:00.307Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:16:00.307Z] Building nodejs source
[debug] [2025-03-08T10:16:00.308Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:16:00.320Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:16:00.349Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8362

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:30
        message:"total"
        ^^^^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:16:01.065Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-03-08T10:16:06.823Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:16:07.836Z] Validating nodejs source
[debug] [2025-03-08T10:16:12.454Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:16:12.454Z] Building nodejs source
[debug] [2025-03-08T10:16:12.455Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:16:12.462Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:16:12.493Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8743

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:30
        message:"total must be greater than 0"
        ^^^^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:16:13.429Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-03-08T10:16:26.586Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:16:27.589Z] Validating nodejs source
[debug] [2025-03-08T10:16:30.699Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:16:30.700Z] Building nodejs source
[debug] [2025-03-08T10:16:30.700Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:16:30.711Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:16:30.738Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:16:30.774Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8495

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:30
        message:"total must be greater than 0",
        ^^^^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:16:31.354Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[debug] [2025-03-08T10:16:31.778Z] Validating nodejs source
[debug] [2025-03-08T10:16:34.950Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:16:34.951Z] Building nodejs source
[debug] [2025-03-08T10:16:34.951Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:16:34.960Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:16:34.982Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8167

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:30
        message:"total must be greater than 0",
        ^^^^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:16:35.674Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-03-08T10:16:54.982Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:16:55.997Z] Validating nodejs source
[debug] [2025-03-08T10:16:59.191Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:16:59.193Z] Building nodejs source
[debug] [2025-03-08T10:16:59.193Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:16:59.202Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:16:59.235Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:16:59.267Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:17:00.269Z] Validating nodejs source
[debug] [2025-03-08T10:17:04.366Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:17:04.367Z] Building nodejs source
[debug] [2025-03-08T10:17:04.367Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:17:04.375Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:17:04.400Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8837

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:31
       )
       ^

SyntaxError: Unexpected token ')'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:17:04.473Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ')'
[info] Serving at port 8857

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:31
       )
       ^

SyntaxError: Unexpected token ')'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:17:05.020Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ')'
[debug] [2025-03-08T10:17:05.539Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:17:06.547Z] Validating nodejs source
[debug] [2025-03-08T10:17:09.980Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:17:09.980Z] Building nodejs source
[debug] [2025-03-08T10:17:09.980Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:17:09.985Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:17:09.998Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8829

[debug] [2025-03-08T10:17:11.989Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:18:02.032Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:18:03.035Z] Validating nodejs source
[debug] [2025-03-08T10:18:06.415Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:18:06.415Z] Building nodejs source
[debug] [2025-03-08T10:18:06.416Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:18:06.420Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:18:06.436Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:18:06.450Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8109

[debug] [2025-03-08T10:18:07.477Z] Validating nodejs source
[debug] [2025-03-08T10:18:11.012Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:18:11.013Z] Building nodejs source
[debug] [2025-03-08T10:18:11.014Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:18:11.025Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:18:11.031Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:18:11.058Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:18:11.077Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8400

[debug] [2025-03-08T10:18:12.086Z] Validating nodejs source
[debug] [2025-03-08T10:18:15.779Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:18:15.779Z] Building nodejs source
[debug] [2025-03-08T10:18:15.779Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:18:15.782Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:18:15.794Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:18:15.805Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8737

[debug] [2025-03-08T10:18:17.478Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:18:55.732Z] [work-queue] {"queuedWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:18:55.732Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:18:55.733Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:18:55.732Z"],"workRunningCount":1}
[debug] [2025-03-08T10:18:55.733Z] Accepted request POST /clone-a42db/us-central1/api/payment/create?total=300 --> us-central1-api
[debug] [2025-03-08T10:18:55.752Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-08T10:18:55.754Z] [functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total=300, mapping to path=/payment/create?total=300 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total=300, mapping to path=/payment/create?total=300"}}
[debug] [2025-03-08T10:18:55.755Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:18:55.792Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-03-08T10:18:55.797Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-03-08T10:19:01.770Z] [runtime-status] [16452] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:01.780Z] [runtime-status] [16452] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:01.782Z] [runtime-status] [16452] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-03-08T10:19:01.786Z] [runtime-status] [16452] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:03.400Z] [runtime-status] [16452] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-03-08T10:19:03.401Z] [runtime-status] [16452] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-03-08T10:19:03.406Z] [runtime-status] [16452] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:03.452Z] [runtime-status] [16452] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:03.466Z] [runtime-status] [16452] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:03.467Z] [runtime-status] [16452] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-03-08T10:19:04.646Z] [runtime-status] [16452] Functions runtime initialized. {"cwd":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions","node_version":"20.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\",\"node_version\":\"20.18.0\"}"}}
[debug] [2025-03-08T10:19:04.648Z] [runtime-status] [16452] Listening to port: \\?\pipe\fire_emu_49f5a8220b0a46dd {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16452] Listening to port: \\\\?\\pipe\\fire_emu_49f5a8220b0a46dd"}}
[debug] [2025-03-08T10:19:04.786Z] [worker-us-central1-api-5044649c-6039-4e45-9099-8c551091a62b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5044649c-6039-4e45-9099-8c551091a62b]: IDLE"}}
[debug] [2025-03-08T10:19:04.787Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-03-08T10:19:04.790Z] [worker-us-central1-api-5044649c-6039-4e45-9099-8c551091a62b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5044649c-6039-4e45-9099-8c551091a62b]: BUSY"}}
[info] >  C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:22 {"user":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js:22\r"}}
[info] >          const paymentIntent=await stripe.paymentIntent.create({ {"user":"        const paymentIntent=await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         const paymentIntent=await stripe.paymentIntent.create({\r"}}
[info] >                                                         ^ {"user":"                                                       ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                        ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:22:56 {"user":"    at C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js:22:56\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js:22:56\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.18.0 {"user":"Node.js v20.18.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.18.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2025-03-08T10:19:04.881Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:19:04.937Z] [worker-us-central1-api-5044649c-6039-4e45-9099-8c551091a62b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5044649c-6039-4e45-9099-8c551091a62b]: exited"}}
[debug] [2025-03-08T10:19:04.937Z] [worker-us-central1-api-5044649c-6039-4e45-9099-8c551091a62b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5044649c-6039-4e45-9099-8c551091a62b]: FINISHED"}}
[debug] [2025-03-08T10:19:32.192Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:19:33.195Z] Validating nodejs source
[debug] [2025-03-08T10:19:36.844Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:19:36.845Z] Building nodejs source
[debug] [2025-03-08T10:19:36.846Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:19:36.854Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:19:36.888Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8405

[debug] [2025-03-08T10:19:38.740Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:19:39.474Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:19:40.476Z] Validating nodejs source
[debug] [2025-03-08T10:19:43.919Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:19:43.920Z] Building nodejs source
[debug] [2025-03-08T10:19:43.920Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:19:43.926Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:19:43.958Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:19:43.988Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8668

[debug] [2025-03-08T10:19:44.997Z] Validating nodejs source
[debug] [2025-03-08T10:19:48.525Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:19:48.526Z] Building nodejs source
[debug] [2025-03-08T10:19:48.526Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:19:48.531Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:19:48.542Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:19:48.554Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] Serving at port 8506

[debug] [2025-03-08T10:19:50.571Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:19:51.287Z] [work-queue] {"queuedWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:19:51.287Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:19:51.288Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:19:51.287Z"],"workRunningCount":1}
[debug] [2025-03-08T10:19:51.288Z] Accepted request POST /clone-a42db/us-central1/api/payment/create?total=300 --> us-central1-api
[debug] [2025-03-08T10:19:51.299Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-08T10:19:51.300Z] [functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total=300, mapping to path=/payment/create?total=300 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total=300, mapping to path=/payment/create?total=300"}}
[debug] [2025-03-08T10:19:51.300Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:19:51.333Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-03-08T10:19:51.334Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:19:57.798Z] [runtime-status] [8120] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:57.804Z] [runtime-status] [8120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:57.805Z] [runtime-status] [8120] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-03-08T10:19:57.808Z] [runtime-status] [8120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:58.921Z] [runtime-status] [8120] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-03-08T10:19:58.922Z] [runtime-status] [8120] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-03-08T10:19:58.924Z] [runtime-status] [8120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:58.945Z] [runtime-status] [8120] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:58.953Z] [runtime-status] [8120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:19:58.954Z] [runtime-status] [8120] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-03-08T10:19:59.603Z] [runtime-status] [8120] Functions runtime initialized. {"cwd":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions","node_version":"20.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\",\"node_version\":\"20.18.0\"}"}}
[debug] [2025-03-08T10:19:59.605Z] [runtime-status] [8120] Listening to port: \\?\pipe\fire_emu_74d9e7526486c8eb {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8120] Listening to port: \\\\?\\pipe\\fire_emu_74d9e7526486c8eb"}}
[debug] [2025-03-08T10:19:59.700Z] [worker-us-central1-api-5a154f9e-7d68-40cf-9cf2-3ff17553ec4e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5a154f9e-7d68-40cf-9cf2-3ff17553ec4e]: IDLE"}}
[debug] [2025-03-08T10:19:59.700Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-03-08T10:19:59.702Z] [worker-us-central1-api-5a154f9e-7d68-40cf-9cf2-3ff17553ec4e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5a154f9e-7d68-40cf-9cf2-3ff17553ec4e]: BUSY"}}
[info] >  C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:22 {"user":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js:22\r"}}
[info] >          const paymentIntent=await stripe.paymentIntent.create({ {"user":"        const paymentIntent=await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m         const paymentIntent=await stripe.paymentIntent.create({\r"}}
[info] >                                                         ^ {"user":"                                                       ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                        ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:22:56 {"user":"    at C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js:22:56\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js:22:56\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.18.0 {"user":"Node.js v20.18.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.18.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2025-03-08T10:19:59.755Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:19:59.791Z] [worker-us-central1-api-5a154f9e-7d68-40cf-9cf2-3ff17553ec4e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5a154f9e-7d68-40cf-9cf2-3ff17553ec4e]: exited"}}
[debug] [2025-03-08T10:19:59.793Z] [worker-us-central1-api-5a154f9e-7d68-40cf-9cf2-3ff17553ec4e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5a154f9e-7d68-40cf-9cf2-3ff17553ec4e]: FINISHED"}}
[debug] [2025-03-08T10:22:38.651Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:22:39.665Z] Validating nodejs source
[debug] [2025-03-08T10:22:43.154Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:22:43.155Z] Building nodejs source
[debug] [2025-03-08T10:22:43.155Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:22:43.163Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:22:43.197Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8132

[debug] [2025-03-08T10:22:45.270Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:22:54.967Z] [work-queue] {"queuedWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:22:54.967Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:22:54.968Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a42db/us-central1/api/payment/create-2025-03-08T10:22:54.967Z"],"workRunningCount":1}
[debug] [2025-03-08T10:22:54.968Z] Accepted request POST /clone-a42db/us-central1/api/payment/create?total=300 --> us-central1-api
[debug] [2025-03-08T10:22:54.980Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-03-08T10:22:54.981Z] [functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total=300, mapping to path=/payment/create?total=300 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a42db/us-central1/api/payment/create?total=300, mapping to path=/payment/create?total=300"}}
[debug] [2025-03-08T10:22:54.981Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:22:55.008Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-03-08T10:22:55.009Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-03-08T10:23:00.224Z] [runtime-status] [23324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:23:00.229Z] [runtime-status] [23324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:23:00.230Z] [runtime-status] [23324] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-03-08T10:23:00.233Z] [runtime-status] [23324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:23:01.102Z] [runtime-status] [23324] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-03-08T10:23:01.102Z] [runtime-status] [23324] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-03-08T10:23:01.104Z] [runtime-status] [23324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:23:01.119Z] [runtime-status] [23324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-03-08T10:23:01.127Z] [runtime-status] [23324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-03-08T10:23:01.128Z] [runtime-status] [23324] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-03-08T10:23:01.655Z] [runtime-status] [23324] Functions runtime initialized. {"cwd":"C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions","node_version":"20.18.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\yoga\\\\Documents\\\\Projects\\\\amazone-clone-\\\\functions\",\"node_version\":\"20.18.0\"}"}}
[debug] [2025-03-08T10:23:01.656Z] [runtime-status] [23324] Listening to port: \\?\pipe\fire_emu_7eed50a2d1d7ca0b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23324] Listening to port: \\\\?\\pipe\\fire_emu_7eed50a2d1d7ca0b"}}
[debug] [2025-03-08T10:23:01.688Z] [worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: IDLE"}}
[debug] [2025-03-08T10:23:01.688Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-03-08T10:23:01.689Z] [worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: BUSY"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    id: 'pi_3R0KX5H1zHWeWatt0lwyKR1s', {"user":"  id: 'pi_3R0KX5H1zHWeWatt0lwyKR1s',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'pi_3R0KX5H1zHWeWatt0lwyKR1s',"}}
[info] >    object: 'payment_intent', {"user":"  object: 'payment_intent',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   object: 'payment_intent',"}}
[info] >    amount: 300, {"user":"  amount: 300,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   amount: 300,"}}
[info] >    amount_capturable: 0, {"user":"  amount_capturable: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   amount_capturable: 0,"}}
[info] >    amount_details: { tip: {} }, {"user":"  amount_details: { tip: {} },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   amount_details: { tip: {} },"}}
[info] >    amount_received: 0, {"user":"  amount_received: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   amount_received: 0,"}}
[info] >    application: null, {"user":"  application: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   application: null,"}}
[info] >    application_fee_amount: null, {"user":"  application_fee_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   application_fee_amount: null,"}}
[info] >    automatic_payment_methods: { allow_redirects: 'always', enabled: true }, {"user":"  automatic_payment_methods: { allow_redirects: 'always', enabled: true },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   automatic_payment_methods: { allow_redirects: 'always', enabled: true },"}}
[info] >    canceled_at: null, {"user":"  canceled_at: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   canceled_at: null,"}}
[info] >    cancellation_reason: null, {"user":"  cancellation_reason: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   cancellation_reason: null,"}}
[info] >    capture_method: 'automatic_async', {"user":"  capture_method: 'automatic_async',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   capture_method: 'automatic_async',"}}
[info] >    client_secret: 'pi_3R0KX5H1zHWeWatt0lwyKR1s_secret_lP8ZnASqcurbb2WTKtvjs3rbm', {"user":"  client_secret: 'pi_3R0KX5H1zHWeWatt0lwyKR1s_secret_lP8ZnASqcurbb2WTKtvjs3rbm',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   client_secret: 'pi_3R0KX5H1zHWeWatt0lwyKR1s_secret_lP8ZnASqcurbb2WTKtvjs3rbm',"}}
[info] >    confirmation_method: 'automatic', {"user":"  confirmation_method: 'automatic',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   confirmation_method: 'automatic',"}}
[info] >    created: 1741429383, {"user":"  created: 1741429383,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   created: 1741429383,"}}
[info] >    currency: 'usd', {"user":"  currency: 'usd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   currency: 'usd',"}}
[info] >    customer: null, {"user":"  customer: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer: null,"}}
[info] >    description: null, {"user":"  description: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   description: null,"}}
[info] >    invoice: null, {"user":"  invoice: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   invoice: null,"}}
[info] >    last_payment_error: null, {"user":"  last_payment_error: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_payment_error: null,"}}
[info] >    latest_charge: null, {"user":"  latest_charge: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   latest_charge: null,"}}
[info] >    livemode: false, {"user":"  livemode: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   livemode: false,"}}
[info] >    metadata: {}, {"user":"  metadata: {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: {},"}}
[info] >    next_action: null, {"user":"  next_action: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   next_action: null,"}}
[info] >    on_behalf_of: null, {"user":"  on_behalf_of: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   on_behalf_of: null,"}}
[info] >    payment_method: null, {"user":"  payment_method: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: null,"}}
[info] >    payment_method_configuration_details: { id: 'pmc_1R0IXxH1zHWeWatttEyhRTaT', parent: null }, {"user":"  payment_method_configuration_details: { id: 'pmc_1R0IXxH1zHWeWatttEyhRTaT', parent: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_configuration_details: { id: 'pmc_1R0IXxH1zHWeWatttEyhRTaT', parent: null },"}}
[info] >    payment_method_options: { {"user":"  payment_method_options: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_options: {"}}
[info] >      amazon_pay: { express_checkout_element_session_id: null }, {"user":"    amazon_pay: { express_checkout_element_session_id: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     amazon_pay: { express_checkout_element_session_id: null },"}}
[info] >      card: { {"user":"    card: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     card: {"}}
[info] >        installments: null, {"user":"      installments: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       installments: null,"}}
[info] >        mandate_options: null, {"user":"      mandate_options: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       mandate_options: null,"}}
[info] >        network: null, {"user":"      network: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       network: null,"}}
[info] >        request_three_d_secure: 'automatic' {"user":"      request_three_d_secure: 'automatic'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       request_three_d_secure: 'automatic'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      cashapp: {}, {"user":"    cashapp: {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     cashapp: {},"}}
[info] >      klarna: { preferred_locale: null }, {"user":"    klarna: { preferred_locale: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     klarna: { preferred_locale: null },"}}
[info] >      link: { persistent_token: null } {"user":"    link: { persistent_token: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     link: { persistent_token: null }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    payment_method_types: [ 'card', 'klarna', 'link', 'cashapp', 'amazon_pay' ], {"user":"  payment_method_types: [ 'card', 'klarna', 'link', 'cashapp', 'amazon_pay' ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_types: [ 'card', 'klarna', 'link', 'cashapp', 'amazon_pay' ],"}}
[info] >    processing: null, {"user":"  processing: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   processing: null,"}}
[info] >    receipt_email: null, {"user":"  receipt_email: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   receipt_email: null,"}}
[info] >    review: null, {"user":"  review: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   review: null,"}}
[info] >    setup_future_usage: null, {"user":"  setup_future_usage: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_future_usage: null,"}}
[info] >    shipping: null, {"user":"  shipping: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   shipping: null,"}}
[info] >    source: null, {"user":"  source: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: null,"}}
[info] >    statement_descriptor: null, {"user":"  statement_descriptor: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statement_descriptor: null,"}}
[info] >    statement_descriptor_suffix: null, {"user":"  statement_descriptor_suffix: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statement_descriptor_suffix: null,"}}
[info] >    status: 'requires_payment_method', {"user":"  status: 'requires_payment_method',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   status: 'requires_payment_method',"}}
[info] >    transfer_data: null, {"user":"  transfer_data: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   transfer_data: null,"}}
[info] >    transfer_group: null {"user":"  transfer_group: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   transfer_group: null"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2025-03-08T10:23:03.168Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1480.1114ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1480.1114ms"}}
[debug] [2025-03-08T10:23:03.171Z] [worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: IDLE"}}
[debug] [2025-03-08T10:23:03.172Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-03-08T10:23:03.173Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-03-08T10:23:03.173Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-08T10:25:47.340Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:25:48.351Z] Validating nodejs source
[debug] [2025-03-08T10:25:51.066Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:25:51.067Z] Building nodejs source
[debug] [2025-03-08T10:25:51.067Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:25:51.076Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:25:51.094Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:25:51.106Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8247

[debug] [2025-03-08T10:25:52.112Z] Validating nodejs source
[debug] [2025-03-08T10:25:55.143Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:25:55.144Z] Building nodejs source
[debug] [2025-03-08T10:25:55.144Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:25:55.150Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:25:55.157Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:25:55.173Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:25:55.188Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8965

[debug] [2025-03-08T10:25:56.197Z] Validating nodejs source
[debug] [2025-03-08T10:25:59.668Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:25:59.668Z] Building nodejs source
[debug] [2025-03-08T10:25:59.669Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:25:59.675Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:25:59.703Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:25:59.730Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-08T10:25:59.769Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:25:59.786Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-03-08T10:25:59.786Z] [worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: FINISHING"}}
[debug] [2025-03-08T10:25:59.861Z] [worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: exited"}}
[debug] [2025-03-08T10:25:59.861Z] [worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64dba597-f133-44e7-a67f-acee6a8f1961]: FINISHED"}}
[info] Serving at port 8102

[debug] [2025-03-08T10:26:00.771Z] Validating nodejs source
[debug] [2025-03-08T10:26:04.504Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:26:04.505Z] Building nodejs source
[debug] [2025-03-08T10:26:04.505Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:26:04.512Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:26:04.535Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:26:04.555Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8145

[debug] [2025-03-08T10:26:06.866Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:26:09.251Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:26:10.255Z] Validating nodejs source
[debug] [2025-03-08T10:26:13.614Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:26:13.615Z] Building nodejs source
[debug] [2025-03-08T10:26:13.615Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:26:13.623Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:26:13.655Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-08T10:26:13.702Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8577

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:27
        res.status(201).json(clientSecret:payment)
                             ^^^^^^^^^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:26:14.295Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[debug] [2025-03-08T10:26:14.481Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:26:15.494Z] Validating nodejs source
[debug] [2025-03-08T10:26:18.764Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:26:18.765Z] Building nodejs source
[debug] [2025-03-08T10:26:18.766Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:26:18.773Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:26:18.828Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[debug] [2025-03-08T10:26:18.850Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8663

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:27
        res.status(201).json(clientSecret:paymentIntent.clientSecret)
                             ^^^^^^^^^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:26:19.748Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[debug] [2025-03-08T10:26:19.852Z] Validating nodejs source
[debug] [2025-03-08T10:26:23.762Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:26:23.762Z] Building nodejs source
[debug] [2025-03-08T10:26:23.762Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:26:23.766Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:26:23.776Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8049

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:27
        res.status(201).json(clientSecret:paymentIntent.clientSecret)
                             ^^^^^^^^^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:26:24.399Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-03-08T10:26:24.408Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[debug] [2025-03-08T10:26:25.406Z] Validating nodejs source
[debug] [2025-03-08T10:26:29.131Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^17.7.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-08T10:26:29.131Z] Building nodejs source
[debug] [2025-03-08T10:26:29.131Z] Failed to find version of module node: reached end of search path C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-03-08T10:26:29.135Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-08T10:26:29.145Z] Found firebase-functions binary at 'C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8871

[error] C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js:27
        res.status(201).json(clientSecret:paymentIntent.clientSecret,)
                             ^^^^^^^^^^^^

SyntaxError: missing ) after argument list
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\runtime\loader.js:157:23)
    at C:\Users\yoga\Documents\Projects\amazone-clone-\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2025-03-08T10:26:29.668Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-03-08T10:26:41.468Z] File C:\Users\yoga\Documents\Projects\amazone-clone-\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\yoga\\Documents\\Projects\\amazone-clone-\\functions\\index.js changed, reloading triggers"}}
